webpackJsonp([20],{667:function(t,e,r){"use strict";function a(){return n.apply(this,arguments)}function n(){return n=_()(w.a.mark(function t(){var e;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=j.a.get("access_token"),t.abrupt("return",Object(z.a)("".concat(A.a,"/goods"),{headers:{Authorization:e}}));case 2:case"end":return t.stop()}},t,this)})),n.apply(this,arguments)}function o(t){return s.apply(this,arguments)}function s(){return s=_()(w.a.mark(function t(e){var r,a;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.data,a=j.a.get("access_token"),t.abrupt("return",Object(z.a)("".concat(A.a,"/goods"),{method:"post",headers:{Authorization:a},data:v()({},r)}));case 3:case"end":return t.stop()}},t,this)})),s.apply(this,arguments)}function c(t){return u.apply(this,arguments)}function u(){return u=_()(w.a.mark(function t(e){var r,a,n,o,s;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.goodId,a=e.goodStatus,n=e.publishType,o=e.desc,console.log("\u4e0b\u67b6service",n,o),s=j.a.get("access_token"),t.abrupt("return",Object(z.a)("".concat(A.a,"/goods/").concat(r,"/publish_status"),{method:"put",headers:{Authorization:s},data:{is_publish:a,publish_type:n,desc:o}}));case 4:case"end":return t.stop()}},t,this)})),u.apply(this,arguments)}function i(t){return p.apply(this,arguments)}function p(){return p=_()(w.a.mark(function t(e){var r,a,n;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.goodId,a=e.data,n=j.a.get("access_token"),t.abrupt("return",Object(z.a)("".concat(A.a,"/goods/").concat(r),{method:"put",headers:{Authorization:n},data:v()({},a)}));case 3:case"end":return t.stop()}},t,this)})),p.apply(this,arguments)}function d(t){return f.apply(this,arguments)}function f(){return f=_()(w.a.mark(function t(e){var r,a,n;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.goodId,a=e.data,n=j.a.get("access_token"),t.abrupt("return",Object(z.a)("".concat(A.a,"/goods/").concat(r,"/price"),{method:"put",headers:{Authorization:n},data:v()({},a)}));case 3:case"end":return t.stop()}},t,this)})),f.apply(this,arguments)}function l(t){return h.apply(this,arguments)}function h(){return h=_()(w.a.mark(function t(e){var r,a;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.goodId,a=j.a.get("access_token"),t.abrupt("return",Object(z.a)("".concat(A.a,"/goods/").concat(r),{method:"get",headers:{Authorization:a}}));case 3:case"end":return t.stop()}},t,this)})),h.apply(this,arguments)}function y(t){return x.apply(this,arguments)}function x(){return x=_()(w.a.mark(function t(e){var r,a,n;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.module,a=e.goodId,n=j.a.get("access_token"),t.abrupt("return",Object(z.a)("".concat(A.a,"/operationlogs?module=").concat(r,"&object_id=").concat(a),{method:"get",headers:{Authorization:n}}));case 3:case"end":return t.stop()}},t,this)})),x.apply(this,arguments)}function b(t){return g.apply(this,arguments)}function g(){return g=_()(w.a.mark(function t(e){var r,a;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.fields,a=j.a.get("access_token"),t.abrupt("return",Object(z.a)("".concat(A.a,"/goods_reports"),{method:"post",headers:{Authorization:a},data:{fields:r}}));case 3:case"end":return t.stop()}},t,this)})),g.apply(this,arguments)}Object.defineProperty(e,"__esModule",{value:!0});var k=r(42),v=r.n(k),m=r(93),w=r.n(m),I=r(189),_=r.n(I),O=r(124),j=r.n(O),z=r(314),A=r(94);e.default={namespace:"good",state:{list:[],detail:{},logs:[]},effects:{fetch:w.a.mark(function t(e,r){var n,o,s,c,u;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.success,o=e.error,s=r.call,c=r.put,t.next=4,s(a);case 4:if(u=t.sent,u.rescode>>0!==A.g){t.next=9;break}"function"==typeof n&&n(u),t.next=12;break;case 9:if("function"!=typeof o){t.next=12;break}return o(u),t.abrupt("return");case 12:return t.next=14,c({type:"save",payload:u.data});case 14:case"end":return t.stop()}},t,this)}),fetchDetail:w.a.mark(function t(e,r){var a,n,o,s,c,u;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.goodId,n=e.success,o=e.error,s=r.call,c=r.put,t.next=4,s(l,{goodId:a});case 4:if(u=t.sent,u.rescode>>0!==A.g){t.next=9;break}"function"==typeof n&&n(u),t.next=12;break;case 9:if("function"!=typeof o){t.next=12;break}return o(u),t.abrupt("return");case 12:return t.next=14,c({type:"saveDetail",payload:u.data});case 14:case"end":return t.stop()}},t,this)}),add:w.a.mark(function t(e,r){var n,s,c,u,i,p,d;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.data,s=e.success,c=e.error,u=r.call,i=r.put,t.next=4,u(o,{data:n});case 4:if(p=t.sent,p.rescode>>0!==A.g){t.next=9;break}"function"==typeof s&&s(p),t.next=12;break;case 9:if("function"!=typeof c){t.next=12;break}return c(p),t.abrupt("return");case 12:return t.next=14,u(a);case 14:return d=t.sent,t.next=17,i({type:"saveOne",payload:d.data});case 17:case"end":return t.stop()}},t,this)}),modifyInfo:w.a.mark(function t(e,r){var n,o,s,c,u,p,d,f;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.goodId,o=e.data,s=e.success,c=e.error,u=r.call,p=r.put,t.next=4,u(i,{goodId:n,data:o});case 4:if(d=t.sent,d.rescode>>0!==A.g){t.next=9;break}"function"==typeof s&&s(d),t.next=12;break;case 9:if("function"!=typeof c){t.next=12;break}return c(d),t.abrupt("return");case 12:return t.next=14,u(a);case 14:return f=t.sent,t.next=17,p({type:"modify",payload:f.data});case 17:case"end":return t.stop()}},t,this)}),modifyGoodStatus:w.a.mark(function t(e,r){var n,o,s,u,i,p,d,f,l,h;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.goodId,o=e.goodStatus,s=e.publishType,u=e.desc,i=e.success,p=e.error,d=r.call,f=r.put,t.next=4,d(c,{goodId:n,goodStatus:o,publishType:s,desc:u});case 4:if(l=t.sent,l.rescode>>0!==A.g){t.next=9;break}"function"==typeof i&&i(l),t.next=12;break;case 9:if("function"!=typeof p){t.next=12;break}return p(l),t.abrupt("return");case 12:return t.next=14,d(a);case 14:return h=t.sent,t.next=17,f({type:"modify",payload:h.data});case 17:case"end":return t.stop()}},t,this)}),modifyPrice:w.a.mark(function t(e,r){var n,o,s,c,u,i,p,f;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.goodId,o=e.data,s=e.success,c=e.error,u=r.call,i=r.put,t.next=4,u(d,{goodId:n,data:o});case 4:if(p=t.sent,p.rescode>>0!==A.g){t.next=9;break}"function"==typeof s&&s(p),t.next=12;break;case 9:if("function"!=typeof c){t.next=12;break}return c(p),t.abrupt("return");case 12:return t.next=14,u(a);case 14:return f=t.sent,t.next=17,i({type:"modify",payload:f.data});case 17:case"end":return t.stop()}},t,this)}),queryLogs:w.a.mark(function t(e,r){var a,n,o,s,c,u,i;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.module,n=e.goodId,o=e.success,s=e.error,c=r.call,u=r.put,t.next=4,c(y,{module:a,goodId:n});case 4:if(i=t.sent,i.rescode>>0!==A.g){t.next=9;break}"function"==typeof o&&o(i),t.next=12;break;case 9:if("function"!=typeof s){t.next=12;break}return s(i),t.abrupt("return");case 12:return t.next=14,u({type:"logs",payload:i.data});case 14:case"end":return t.stop()}},t,this)}),queryExport:w.a.mark(function t(e,r){var a,n,o,s,c,u;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.fields,n=e.success,o=e.error,s=r.call,c=r.put,t.next=4,s(b,{fields:a});case 4:if(u=t.sent,u.rescode>>0!==A.g){t.next=9;break}"function"==typeof n&&n(u),t.next=12;break;case 9:if("function"!=typeof o){t.next=12;break}return o(u),t.abrupt("return");case 12:return t.next=14,c({type:"export",payload:u.data});case 14:case"end":return t.stop()}},t,this)})},reducers:{save:function(t,e){return v()({},t,{list:e.payload})},saveDetail:function(t,e){return v()({},t,{detail:e.payload})},saveOne:function(t,e){return v()({},t,{list:e.payload})},modify:function(t,e){return v()({},t,{list:e.payload})},remove:function(t,e){return v()({},t,{list:e.payload})},logs:function(t,e){return v()({},t,{logs:e.payload})},export:function(t,e){return v()({},t,{export:e.payload})}}}}});