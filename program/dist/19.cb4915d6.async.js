webpackJsonp([19],{668:function(e,t,r){"use strict";function n(e){return a.apply(this,arguments)}function a(){return a=A()(j.a.mark(function e(t){var r,n,a,s,c,o;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.params,n=t.offset,a=void 0===n?0:n,s=t.limit,c=void 0===s?10:s,o=J.a.get("access_token"),e.abrupt("return",Object(E.a)("".concat(M,"/order?offset=").concat(a,"&limit=").concat(c,"&").concat(G.f.toQueryString(r)),{headers:{Authorization:o}}));case 3:case"end":return e.stop()}},e,this)})),a.apply(this,arguments)}function s(e){return c.apply(this,arguments)}function c(){return c=A()(j.a.mark(function e(t){var r,n,a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.orderId,n=J.a.get("access_token"),a=P,e.abrupt("return",Object(E.a)("".concat(M,"/order/").concat(r,"?supplier_id=").concat(a),{headers:{Authorization:n}}));case 4:case"end":return e.stop()}},e,this)})),c.apply(this,arguments)}function o(e){return u.apply(this,arguments)}function u(){return u=A()(j.a.mark(function e(t){var r,n,a,s;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.orderId,n=t.status,a=J.a.get("access_token"),s=P,e.abrupt("return",Object(E.a)("".concat(M,"/order/").concat(r,"?supplier_id=").concat(s),{method:"put",headers:{Authorization:a},data:{status:n}}));case 4:case"end":return e.stop()}},e,this)})),u.apply(this,arguments)}function i(e){return p.apply(this,arguments)}function p(){return p=A()(j.a.mark(function e(t){var r,n,a,s,c;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.orderId,n=t.receiptId,a=t.images,s=t.remarks,c=J.a.get("access_token"),e.abrupt("return",Object(E.a)("".concat(N,"/receipt"),{method:"post",headers:{Authorization:c},data:{order_sn:r,receipt_sn:n,images:a,remarks:s}}));case 3:case"end":return e.stop()}},e,this)})),p.apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return f=A()(j.a.mark(function e(t){var r,n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.data,n=J.a.get("access_token"),e.abrupt("return",Object(E.a)("".concat(N,"/logistics"),{method:"post",headers:{Authorization:n},data:D()({},r)}));case 3:case"end":return e.stop()}},e,this)})),f.apply(this,arguments)}function h(e){return l.apply(this,arguments)}function l(){return l=A()(j.a.mark(function e(t){var r,n,a,s;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.orderId,n=t.data,a=J.a.get("access_token"),s=P,e.abrupt("return",Object(E.a)("".concat(M,"/order/").concat(r,"?supplier_id=").concat(s),{method:"put",headers:{Authorization:a},data:D()({},n)}));case 4:case"end":return e.stop()}},e,this)})),l.apply(this,arguments)}function y(){return v.apply(this,arguments)}function v(){return v=A()(j.a.mark(function e(){var t,r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=J.a.get("access_token"),r=P,e.abrupt("return",Object(E.a)("".concat(M,"/order?supplier_id=").concat(r,"&is_type=1"),{method:"get",headers:{Authorization:t}}));case 3:case"end":return e.stop()}},e,this)})),v.apply(this,arguments)}function x(e){return m.apply(this,arguments)}function m(){return m=A()(j.a.mark(function e(t){var r,n,a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.orderId,n=J.a.get("access_token"),a=P,e.abrupt("return",Object(E.a)("".concat(M,"/order/").concat(r,"?supplier_id=").concat(a,"&is_type=1"),{method:"get",headers:{Authorization:n}}));case 4:case"end":return e.stop()}},e,this)})),m.apply(this,arguments)}function k(){return w.apply(this,arguments)}function w(){return w=A()(j.a.mark(function e(){var t,r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=J.a.get("access_token"),r=P,e.abrupt("return",Object(E.a)("".concat(M,"/order?supplier_id=").concat(r,"&is_type=2"),{method:"get",headers:{Authorization:t}}));case 3:case"end":return e.stop()}},e,this)})),w.apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return g=A()(j.a.mark(function e(t){var r,n,a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.orderId,n=J.a.get("access_token"),a=P,e.abrupt("return",Object(E.a)("".concat(M,"/order/").concat(r,"?supplier_id=").concat(a,"&is_type=2"),{method:"get",headers:{Authorization:n}}));case 4:case"end":return e.stop()}},e,this)})),g.apply(this,arguments)}function I(e){return _.apply(this,arguments)}function _(){return _=A()(j.a.mark(function e(t){var r,n,a,s;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.orderId,n=t.status,a=J.a.get("access_token"),s=P,e.abrupt("return",Object(E.a)("".concat(M,"/order/").concat(r,"?supplier_id=").concat(s),{method:"put",headers:{Authorization:a},data:{status:n}}));case 4:case"end":return e.stop()}},e,this)})),_.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0});var R=r(42),D=r.n(R),O=r(93),j=r.n(O),z=r(189),A=r.n(z),S=r(124),J=r.n(S),C=r(94),E=r(314),G=r(303),M="".concat(C.e,"/v1/supplier"),N="".concat(C.e,"/v1/order"),P=J.a.getJSON("userinfo").id;t.default={namespace:"orders",state:{list:[],detail:{},returns:[],refunds:[],returnDetail:{},refundDetail:{},total:0},effects:{fetch:j.a.mark(function e(t,r){var a,s,c,o,u,i,p,d,f,h;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.params,s=t.offset,c=t.limit,o=t.supplierId,u=t.success,i=t.error,p=r.call,d=r.put,e.next=4,p(n,{params:a,supplierId:o,offset:s,limit:c});case 4:if(f=e.sent,f.rescode>>0!==C.g){e.next=9;break}"function"==typeof u&&u(f),e.next=12;break;case 9:if("function"!=typeof i){e.next=12;break}return i(f),e.abrupt("return");case 12:return h=f.headers,e.next=15,d({type:"save",payload:f.data,headers:h});case 15:case"end":return e.stop()}},e,this)}),fetchDetail:j.a.mark(function e(t,r){var n,a,c,o,u,i,p;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.orderId,a=t.supplierId,c=t.success,o=t.error,u=r.call,i=r.put,e.next=4,u(s,{orderId:n,supplierId:a});case 4:if(p=e.sent,p.rescode>>0!==C.g){e.next=9;break}"function"==typeof c&&c(p),e.next=12;break;case 9:if("function"!=typeof o){e.next=12;break}return o(p),e.abrupt("return");case 12:return e.next=14,i({type:"saveDetail",payload:p.data});case 14:case"end":return e.stop()}},e,this)}),modifyStatus:j.a.mark(function e(t,r){var a,s,c,u,i,p,d,f,h,l;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.orderId,s=t.supplierId,c=t.status,u=t.success,i=t.error,p=r.call,d=r.put,e.next=4,p(o,{orderId:a,supplierId:s,status:c});case 4:if(f=e.sent,f.rescode>>0!==C.g){e.next=9;break}"function"==typeof u&&u(f),e.next=12;break;case 9:if("function"!=typeof i){e.next=12;break}return i(f),e.abrupt("return");case 12:return e.next=14,p(n,{supplierId:s});case 14:return h=e.sent,l=h.headers,e.next=18,d({type:"save",payload:h.data,headers:l});case 18:case"end":return e.stop()}},e,this)}),fetchOpenReceipt:j.a.mark(function e(t,r){var a,s,c,o,u,p,d,f,h,l,y;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.orderId,s=t.receiptId,c=t.images,o=t.remarks,u=t.success,p=t.error,d=r.call,f=r.put,e.next=4,d(i,{orderId:a,receiptId:s,images:c,remarks:o});case 4:return h=e.sent,h.rescode>>0===C.g?"function"==typeof u&&u(h):"function"==typeof p&&p(h),e.next=8,d(n,{});case 8:return l=e.sent,y=l.headers,e.next=12,f({type:"save",payload:l.data,headers:y});case 12:case"end":return e.stop()}},e,this)}),fetchDeliveryGoods:j.a.mark(function e(t,r){var a,s,c,o,u,i,p,f;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,s=t.success,c=t.error,o=r.call,u=r.put,e.next=4,o(d,{data:a});case 4:return i=e.sent,i.rescode>>0===C.g?"function"==typeof s&&s(i):"function"==typeof c&&c(i),e.next=8,o(n,{});case 8:return p=e.sent,f=p.headers,e.next=12,u({type:"save",payload:p.data,headers:f});case 12:case"end":return e.stop()}},e,this)}),fetchException:j.a.mark(function e(t,r){var a,s,c,o,u,i,p,d,f,l;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.orderId,s=t.supplierId,c=t.data,o=t.success,u=t.error,i=r.call,p=r.put,e.next=4,i(h,{orderId:a,supplierId:s,data:c});case 4:return d=e.sent,d.rescode>>0===C.g?"function"==typeof o&&o(d):"function"==typeof u&&u(d),e.next=8,i(n,{});case 8:return f=e.sent,l=f.headers,e.next=12,p({type:"save",payload:f.data,headers:l});case 12:case"end":return e.stop()}},e,this)}),fetchReturns:j.a.mark(function e(t,r){var n,a,s,c,o;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.success,a=t.error,s=r.call,c=r.put,e.next=4,s(y);case 4:return o=e.sent,o.rescode>>0===C.g?"function"==typeof n&&n(o):"function"==typeof a&&a(o),e.next=8,c({type:"saveReturns",payload:o.data});case 8:case"end":return e.stop()}},e,this)}),fetchRefunds:j.a.mark(function e(t,r){var n,a,s,c,o;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.success,a=t.error,s=r.call,c=r.put,e.next=4,s(k);case 4:return o=e.sent,o.rescode>>0===C.g?"function"==typeof n&&n(o):"function"==typeof a&&a(o),e.next=8,c({type:"saveRefunds",payload:o.data});case 8:case"end":return e.stop()}},e,this)}),fetchConfirmReturn:j.a.mark(function e(t,r){var n,a,s,c,o,u,i,p;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.orderId,a=t.status,s=t.success,c=t.error,o=r.call,u=r.put,e.next=4,o(I,{orderId:n,status:a});case 4:return i=e.sent,i.rescode>>0===C.g?"function"==typeof s&&s(i):"function"==typeof c&&c(i),e.next=8,o(y);case 8:return p=e.sent,e.next=11,u({type:"saveReturns",payload:p.data});case 11:case"end":return e.stop()}},e,this)}),fetchReturnDetail:j.a.mark(function e(t,r){var n,a,s,c,o,u;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.orderId,a=t.success,s=t.error,c=r.call,o=r.put,e.next=4,c(x,{orderId:n});case 4:return u=e.sent,u.rescode>>0===C.g?"function"==typeof a&&a(u):"function"==typeof s&&s(u),e.next=8,o({type:"saveReturnDetail",payload:u.data});case 8:case"end":return e.stop()}},e,this)}),fetchRefundDetail:j.a.mark(function e(t,r){var n,a,s,c,o,u;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.orderId,a=t.success,s=t.error,c=r.call,o=r.put,e.next=4,c(b,{orderId:n});case 4:return u=e.sent,u.rescode>>0===C.g?"function"==typeof a&&a(u):"function"==typeof s&&s(u),e.next=8,o({type:"saveRefundDetail",payload:u.data});case 8:case"end":return e.stop()}},e,this)}),fetchSearch:j.a.mark(function e(t,r){var a,s,c,o,u,i,p,d,f;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.params,s=t.offset,c=t.limit,o=t.success,u=t.error,i=r.call,p=r.put,e.next=4,i(n,{params:a,offset:s,limit:c});case 4:if(d=e.sent,d.rescode>>0!==C.g){e.next=9;break}"function"==typeof o&&o(d),e.next=12;break;case 9:if("function"!=typeof u){e.next=12;break}return u(d),e.abrupt("return");case 12:return f=d.headers,e.next=15,p({type:"save",payload:d.data,headers:f});case 15:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,t){return D()({},e,{list:t.payload,total:t.headers["x-content-total"]>>0})},saveDetail:function(e,t){return D()({},e,{detail:t.payload})},saveReturns:function(e,t){return D()({},e,{returns:t.payload})},saveRefunds:function(e,t){return D()({},e,{refunds:t.payload})},saveReturnDetail:function(e,t){return D()({},e,{returnDetail:t.payload})},saveRefundDetail:function(e,t){return D()({},e,{refundDetail:t.payload})}}}}});