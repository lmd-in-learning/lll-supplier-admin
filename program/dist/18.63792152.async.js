webpackJsonp([18],{669:function(t,e,r){"use strict";function a(t){return n.apply(this,arguments)}function n(){return n=d()(p.a.mark(function t(e){var r,a,n,c,s;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.offset,a=void 0===r?0:r,n=e.limit,c=void 0===n?10:n,s=h.a.get("access_token"),t.abrupt("return",Object(v.a)("".concat(x.a,"/products?offset=").concat(a,"&limit=").concat(c),{headers:{Authorization:s}}));case 3:case"end":return t.stop()}},t,this)})),n.apply(this,arguments)}function c(t){return s.apply(this,arguments)}function s(){return s=d()(p.a.mark(function t(e){var r,a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.productId,a=h.a.get("access_token"),t.abrupt("return",Object(v.a)("".concat(x.a,"/products/").concat(r),{method:"get",headers:{Authorization:a}}));case 3:case"end":return t.stop()}},t,this)})),s.apply(this,arguments)}Object.defineProperty(e,"__esModule",{value:!0});var o=r(42),u=r.n(o),i=r(93),p=r.n(i),f=r(189),d=r.n(f),l=r(124),h=r.n(l),v=r(314),x=r(94);e.default={namespace:"product",state:{list:[],detail:{},total:0},effects:{fetch:p.a.mark(function t(e,r){var n,c,s,o,u,i,f,d;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.offset,c=e.limit,s=e.success,o=e.error,u=r.call,i=r.put,t.next=4,u(a,{offset:n,limit:c});case 4:if(f=t.sent,f.rescode>>0!==x.g){t.next=9;break}"function"==typeof s&&s(f),t.next=12;break;case 9:if("function"!=typeof o){t.next=12;break}return o(f),t.abrupt("return");case 12:return d=f.headers,t.next=15,i({type:"save",payload:f.data,headers:d});case 15:case"end":return t.stop()}},t,this)}),fetchDetail:p.a.mark(function t(e,r){var a,n,s,o,u,i;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.productId,n=e.success,s=e.error,o=r.call,u=r.put,t.next=4,o(c,{productId:a});case 4:if(i=t.sent,i.rescode>>0!==x.g){t.next=9;break}"function"==typeof n&&n(i),t.next=12;break;case 9:if("function"!=typeof s){t.next=12;break}return s(i),t.abrupt("return");case 12:return t.next=14,u({type:"saveDetail",payload:i.data});case 14:case"end":return t.stop()}},t,this)})},reducers:{save:function(t,e){return u()({},t,{list:e.payload,total:e.headers["x-content-total"]>>0})},saveDetail:function(t,e){return u()({},t,{detail:e.payload})}}}}});